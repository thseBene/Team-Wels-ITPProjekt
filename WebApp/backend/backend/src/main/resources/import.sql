-- -----------------------------------------------------------------
-- Import SQL f체r Feedback-Tabelle (Beispieldaten)
-- 2) Feedback-Daten einf체gen

ALTER TABLE feedback
ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY;
DROP SEQUENCE feedback_SEQ;
CREATE SEQUENCE feedback_SEQ
    START WITH 1
    INCREMENT BY 1
    MINVALUE 1
    NO CYCLE;

INSERT INTO feedback (author, message, created_at)
VALUES
    ( 'Alice', 'Great app!', NOW()),
    ('Bob', 'Needs improvement.', NOW()),
    ('Charlie', 'Very user-friendly.', NOW()),
    ('Diana', 'Found a bug in the login.', NOW());

-- 3) Sequence auf den maximalen Wert der IDs setzen
-- damit zuk체nftige Inserts die n채chste freie ID bekommen
SELECT setval('feedback_SEQ', GREATEST((SELECT COALESCE(MAX(id),0) FROM feedback), 1), true);

